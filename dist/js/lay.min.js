!function(a,b,c){"use strict";var d="1.0",e={title:"提示信息",shade:!0,control:!0,layControl:!0,enterEvent:!1,escEvent:!0,position:"middle",space:15,btns:!1,okText:"确定",cancelText:"取消",params:null,classNames:null,styles:""},f=0,g={"lay-shade":"lay-shade","lay-body":"lay-body","lay-title":"lay-title","lay-control":"lay-control","lay-close":"lay-close","lay-content":"lay-content","lay-btns":"lay-btns","lay-btn-confirm":"lay-btn-confirm","lay-btn-cancel":"lay-btn-cancel"},h=function(a){for(var b=[],c=[],d=[],e=0;e<a.length;e++){var f=a[e];switch(typeof f){case"string":b.push(f);break;case"object":c.push(f);break;case"function":d.push(f)}}return{strArgs:b,jsonArgs:c,fnArgs:d}},i=function(a){var a,b,c,d,e,f,g,h;return b=a.strArgs,c=a.jsonArgs,d=a.fnArgs,e=b.length?b[0]:"",f=c.length?c[0]:{},g=d[0],h=d[1],{content:e,options:f,ok:g,cancel:h}},j={version:d,defaults:e,alert:function(a,b,c,d){var e=arguments,g={type:1,btns:"alert",enterEvent:!0,privateCls:{"lay-body":"lay-alert"}};return this.init(e,g),f},confirm:function(a,b,c,d){var e=arguments,g={type:2,btns:"confirm",enterEvent:!0,privateCls:{"lay-body":"lay-confirm"}};return this.init(e,g),f},msg:function(){var a=arguments,b={type:3,title:!1,control:!1,btns:!1,privateCls:{"lay-shade":"shade-transparent","lay-body":"lay-msg"}};return this.init(a,b),f},tip:function(){var a=arguments,b={type:4,title:!1,control:!1,btns:!1,privateCls:{"lay-shade":"shade-transparent","lay-body":"lay-tip"}};return this.init(a,b),f},pop:function(){var a=arguments,b={type:5,privateCls:{"lay-body":"lay-pop"}};return this.init(a,b),f},close:function(a){var a=a||f;b("[laycounter="+a+"]").remove()},init:function(a,b){var c=h(a),d=i(c);this.createLay(d,b),this.setPosition(),this.eventBind()},createLayDoms:function(a,b,c,d,e){var f=this.cls,g=this.styles;return{a:'<div class="'+f["lay-shade"]+'" layCounter="'+e+'"></div>',b:'<div class="'+f["lay-body"]+'" layCounter="'+e+'">',c:'<div class="'+f["lay-title"]+'">'+a+"</div>",d:'<div class="'+f["lay-control"]+'"><i class="'+f["lay-close"]+'">&times;</i></div>',e:'<div class="'+f["lay-content"]+'" style="'+g+'" >'+b+"</div>",f:'<div class="'+f["lay-btns"]+'">',g:'<a class="'+f["lay-btn-confirm"]+'">'+c+"</a>",h:'<a class="'+f["lay-btn-cancel"]+'">'+d+"</a>",fe:"</div>",be:"</div>"}},createLay:function(a,c){var d,e=this,h=(b(".lay-body[laycounter="+ ++f+"]"),a.content),i=b.extend({},e.defaults,c,a.options),j=(i.type,i.shade,i.title),k=i.btns,l=i.okText,m=i.cancelText,n=i.classNames,o=i.privateCls,p="";console.log(i),this.styles=i.styles,this.position=i.position,this.space=i.space,this.ok=i.ok||a.ok,this.cancel=i.cancel||a.cancel,this.params=i.params||a.params,this.shade=i.shade,this.layControl=i.layControl,this.control=i.control,this.enterEvent=i.enterEvent,this.escEvent=i.escEvent;for(var q in o)o[q]=g[q]+" "+o[q];this.cls=b.extend({},g,o),n&&(this.cls["lay-body"]+=" "+n),d=this.createLayDoms(j,h,l,m,f),this.shade&&(p+=d.a),p+=d.b,j&&(p+=d.c),this.layControl&&this.control&&(p+=d.d),p+=d.e,k&&(p+=d.f,p+=d.g,"confirm"===k&&(p+=d.h),p+=d.fe),p+=d.be,b("body").append(p)},setPosition:function(a){var c=this,a=a||f;b(".lay-body[laycounter="+a+"]").each(function(){var a=c.position;switch(a){case"middle":b(this).css({"margin-top":-b(this).outerHeight()/2});break;case"top":b(this).css({top:c.space});break;case"bottom":b(this).css({top:"auto",bottom:c.space});break;case"topLeft":b(this).css({top:c.space,left:c.space});break;case"topRight":b(this).css({top:c.space,left:"auto",right:c.space});break;case"topRight":b(this).css({top:c.space,left:"auto",right:c.space});break;case"bottomRight":b(this).css({left:"auto",top:"auto",bottom:c.space,right:c.space});break;case"bottomLeft":b(this).css({left:c.space,top:"auto",bottom:c.space})}"middle"!==c.position&&"top"!==c.position&&"bottom"!==c.position||b(this).css({"margin-left":-b(this).outerWidth()/2})})},onConfirm:function(){this.close(),this.ok?this.ok(this.params):""},onCancel:function(){this.close(),this.cancel?this.cancel():""},eventBind:function(){var a=this;b(".lay-close").click(function(){a.onCancel()}),"close"===a.shade&&b(".lay-shade").click(function(){a.onCancel()}),b(".lay-btn-cancel").click(function(){a.onCancel()}),b(".lay-btn-confirm").click(function(){a.onConfirm()}),this.layControl&&this.control||(a.escEvent=!1,a.enterEvent=!1),b(window).keyup(function(b){switch(b.keyCode){case 27:a.escEvent&&a.onCancel();break;case 13:a.enterEvent&&a.onConfirm()}})},setDefaults:function(a){var c=this;this.defaults=b.extend({},c.defaults,a)}};window.lay=j}(window,jQuery);