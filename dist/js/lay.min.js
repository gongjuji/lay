!function(a,b,c){"use strict";var d="1.0",e={title:"提示信息",shade:!0,control:!0,layControl:!0,enterEvent:!1,escEvent:!0,position:"middle",space:15,btns:!1,okText:"确定",cancelText:"取消",params:null,classNames:null,styles:null},f=0,g={"lay-shade":"lay-shade","lay-body":"lay-body","lay-title":"lay-title","lay-control":"lay-control","lay-close":"lay-close","lay-content":"lay-content","lay-btns":"lay-btns","lay-btn-confirm":"lay-btn-confirm","lay-btn-cancel":"lay-btn-cancel"},h=function(){},i=function(a){for(var b=[],c=[],d=[],e=0;e<a.length;e++){var f=a[e];switch(typeof f){case"string":b.push(f);break;case"object":c.push(f);break;case"function":d.push(f)}}return{strArgs:b,jsonArgs:c,fnArgs:d}},j=function(a){var a,b,c,d,e,f,g,h;return b=a.strArgs,c=a.jsonArgs,d=a.fnArgs,e=b.length?b[0]:"",f=c.length?c[0]:{},g=d[0],h=d[1],{content:e,options:f,ok:g,cancel:h}};h.prototype={version:d,alert:function(a,b,c,d){var e=arguments,h={type:1,btns:"alert",enterEvent:!0};return g["lay-body"]+=" lay-alert",this.init(e,h),f},confirm:function(a,b,c,d){var e=arguments,h={type:2,btns:"confirm",enterEvent:!0};return g["lay-body"]+=" lay-confirm",this.init(e,h),f},msg:function(){var a=arguments,b={type:3,title:!1,control:!1,btns:!1};return g["lay-shade"]+=" shade-transparent",g["lay-body"]+=" lay-msg",this.init(a,b),f},tip:function(){var a=arguments,b={type:4,title:!1,control:!1,btns:!1};return g["lay-shade"]+=" shade-transparent",g["lay-body"]+=" lay-tip",this.init(a,b),f},popup:function(){},close:function(a){var a=a||f;b("[laycounter="+a+"]").remove()},init:function(a,b){var c=i(a),d=j(c);this.createLay(d,b),this.setPosition(),this.eventBind()},createLayDoms:function(a,b,c,d,e){return{a:'<div class="'+g["lay-shade"]+'" layCounter="'+e+'"></div>',b:'<div class="'+g["lay-body"]+'" layCounter="'+e+'">',c:'<div class="'+g["lay-title"]+'">'+a+"</div>",d:'<div class="'+g["lay-control"]+'"><i class="'+g["lay-close"]+'">&times;</i></div>',e:'<div class="'+g["lay-content"]+'" >'+b+"</div>",f:'<div class="'+g["lay-btns"]+'">',g:'<a class="'+g["lay-btn-confirm"]+'">'+c+"</a>",h:'<a class="'+g["lay-btn-cancel"]+'">'+d+"</a>",fe:"</div>",be:"</div>"}},createLay:function(a,c){var d=a.content,h=b.extend({},e,c,a.options),i=(h.type,h.shade,h.title),j=h.btns,k=h.okText,l=h.cancelText,m=h.classNames,n=(h.styles,this.createLayDoms(i,d,k,l,++f)),o="";console.log(h),this.position=h.position,this.space=h.space,this.ok=h.ok||a.ok,this.cancel=h.cancel||a.cancel,this.params=h.params||a.params,this.shade=h.shade,this.layControl=h.layControl,this.control=h.control,this.enterEvent=h.enterEvent,this.escEvent=h.escEvent,m&&(g["lay-body"]+=" "+m),this.shade&&(o+=n.a),o+=n.b,i&&(o+=n.c),this.layControl&&this.control&&(o+=n.d),o+=n.e,j&&(o+=n.f,o+=n.g,"confirm"===j&&(o+=n.h),o+=n.fe),o+=n.be,b("body").append(o)},setPosition:function(a){var c=this,a=a||f;b(".lay-body[laycounter="+a+"]").each(function(){var a=c.position;switch(a){case"middle":b(this).css({"margin-top":-b(this).outerHeight()/2});break;case"top":b(this).css({top:c.space});break;case"bottom":b(this).css({top:"auto",bottom:c.space});break;case"topLeft":b(this).css({top:c.space,left:c.space});break;case"topRight":b(this).css({top:c.space,left:"auto",right:c.space});break;case"topRight":b(this).css({top:c.space,left:"auto",right:c.space});break;case"bottomRight":b(this).css({left:"auto",top:"auto",bottom:c.space,right:c.space});break;case"bottomLeft":b(this).css({left:c.space,top:"auto",bottom:c.space})}"middle"!==c.position&&"top"!==c.position&&"bottom"!==c.position||b(this).css({"margin-left":-b(this).outerWidth()/2})})},onConfirm:function(){this.close(),this.ok?this.ok(this.params):""},onCancel:function(){this.close(),this.cancel?this.cancel():""},eventBind:function(){var a=this;b(".lay-close").click(function(){a.onCancel()}),"close"===a.shade&&b(".lay-shade").click(function(){a.onCancel()}),b(".lay-btn-cancel").click(function(){a.onCancel()}),b(".lay-btn-confirm").click(function(){a.onConfirm()}),this.layControl&&this.control||(a.escEvent=!1,a.enterEvent=!1),b(window).keyup(function(b){switch(b.keyCode){case 27:a.escEvent&&a.onCancel();break;case 13:a.enterEvent&&a.onConfirm()}})}};var k=window.lay=new h;b.alert=k.alert,b.confirm=k.confirm,b.tip=k.tip,b.popup=k.popup}(window,jQuery);